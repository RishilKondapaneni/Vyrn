<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>VYRN â€“ Sales Pressure Arena</title>
<style>
body {
    background: #0c0c11;
    color: #e6e6e6;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    margin: 0;
}
.container {
    max-width: 1000px;
    margin: auto;
    padding: 30px;
}
h1 { letter-spacing: 4px; }
select, button, input {
    padding: 10px;
    margin-top: 10px;
    background: #1a1a20;
    color: white;
    border: 1px solid #333;
}
.chat {
    margin-top: 20px;
    height: 350px;
    overflow-y: auto;
    background: #15151b;
    padding: 15px;
    border: 1px solid #222;
}
.analysis {
    margin-top: 20px;
    background: #111118;
    padding: 20px;
    border: 1px solid #222;
}
.message { margin-bottom: 15px; }
.user { color: #4fd1c5; }
.bot { color: #f56565; }
.metrics {
    margin-top: 20px;
    background: #15151b;
    padding: 15px;
    border: 1px solid #222;
}
input { width: 65%; }
</style>
</head>
<body>

<div class="container">
<h1>VYRN</h1>
<p>Pitch. Or get exposed.</p>

<label>Industry:</label>
<select id="industry">
<option value="real estate">Real Estate</option>
<option value="saas">SaaS</option>
<option value="fitness coaching">Fitness Coaching</option>
<option value="insurance">Insurance</option>
</select>

<br>

<input type="text" id="textInput" placeholder="Deliver your pitch...">
<button onclick="sendText()">Send</button>
<button onclick="startListening()">ðŸŽ¤ Speak</button>

<div class="chat" id="chat"></div>

<div class="metrics">
<h3>Performance Metrics</h3>
<p>Authority: <span id="authority">50</span>%</p>
<p>Certainty: <span id="certainty">50</span>%</p>
<p>Clarity: <span id="clarity">50</span>%</p>
<p>Persuasion: <span id="persuasion">50</span>%</p>
<p>Overall Grade: <span id="grade">C</span></p>
</div>

<div class="analysis">
<h3>Professional Breakdown</h3>
<p id="essay">Waiting for your pitch...</p>
</div>

</div>

<script>

let authority = 50;
let certainty = 50;
let clarity = 50;
let persuasion = 50;

function addMessage(text, type) {
    const chat = document.getElementById("chat");
    const div = document.createElement("div");
    div.className = "message " + type;
    div.innerText = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

function updateMetrics() {
    document.getElementById("authority").innerText = authority;
    document.getElementById("certainty").innerText = certainty;
    document.getElementById("clarity").innerText = clarity;
    document.getElementById("persuasion").innerText = persuasion;

    let avg = (authority + certainty + clarity + persuasion) / 4;
    let grade = "F";
    if (avg > 85) grade = "A";
    else if (avg > 75) grade = "B";
    else if (avg > 65) grade = "C";
    else if (avg > 55) grade = "D";
    document.getElementById("grade").innerText = grade;
}

function speak(text) {
    let msg = new SpeechSynthesisUtterance(text);
    let voices = speechSynthesis.getVoices();

    // Try to choose deeper male voice
    let preferred = voices.find(v =>
        v.name.toLowerCase().includes("david") ||
        v.name.toLowerCase().includes("mark") ||
        v.name.toLowerCase().includes("alex") ||
        v.name.toLowerCase().includes("male")
    );

    if (preferred) msg.voice = preferred;

    msg.pitch = 0.7;
    msg.rate = 1;
    speechSynthesis.speak(msg);
}

function evaluatePitch(input) {
    input = input.toLowerCase();

    let roast = "";
    let industry = document.getElementById("industry").value;

    // Weak words
    if (input.includes("just") || input.includes("maybe") || input.includes("kind of")) {
        certainty -= 15;
        roast = "You sound unsure. That hesitation? Thatâ€™s weakness. Eliminate it.";
    }

    if (input.includes("today") || input.includes("limited") || input.includes("act now")) {
        persuasion -= 10;
        roast = "Urgency without value is amateur hour. You donâ€™t create pressure. You create desire.";
    }

    if (input.includes("because") || input.includes("reason")) {
        clarity += 10;
        authority += 8;
        roast = "At least you're structuring logic. Keep building on that.";
    }

    if (input.length > 150) {
        clarity -= 5;
        roast = "Too long. Tighten it up. Precision sells.";
    }

    if (!roast) {
        roast = "Generic. You sound like every other rep in " + industry + ". Bring dominance.";
    }

    return roast;
}

function generateEssay(input) {
    return `Hereâ€™s the breakdown. 

Your pitch lacked controlled dominance. High-level sales requires command presence, precise framing, and emotional certainty. You must eliminate filler language and remove hesitation. Authority in sales is not about volume â€” it's about control and clarity. 

You need stronger positioning. Lead with certainty. Establish status. Anchor value before discussing urgency. Use structured logic: problem â†’ consequence â†’ solution â†’ ownership. 

Right now, your delivery suggests effort. Elite closers suggest inevitability. 

Fix the certainty. Control the frame. Lead the conversation â€” do not chase it.`;
}

function processInput(input) {
    addMessage("You: " + input, "user");

    let roast = evaluatePitch(input);
    addMessage("VYRN: " + roast, "bot");

    let essay = generateEssay(input);
    document.getElementById("essay").innerText = essay;

    speak(roast + " " + essay);

    updateMetrics();
}

function sendText() {
    let input = document.getElementById("textInput").value;
    if (!input) return;
    processInput(input);
    document.getElementById("textInput").value = "";
}

function startListening() {
    const recognition = new(window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "en-US";
    recognition.start();
    recognition.onresult = function(event) {
        const speech = event.results[0][0].transcript;
        processInput(speech);
    };
}

addMessage("VYRN: You have one shot. Impress me.", "bot");

</script>
</body>
</html>
